{"ast":null,"code":"import _defineProperty from \"/Users/alope24/Documents/Maestria/proyecto-final-2/dermo-app-web/Dermo-Web-App/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";\nimport { Validators } from '@angular/forms';\nimport { JwtHelperService } from \"@auth0/angular-jwt\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../usuario.service\";\nimport * as i2 from \"@angular/forms\";\nimport * as i3 from \"@angular/router\";\nimport * as i4 from \"ngx-toastr\";\nimport * as i5 from \"@angular/common\";\nfunction UsuarioSignupComponent_div_17_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 20);\n    i0.ɵɵtext(1, \" Debe ingresar un usuario para registrarse \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction UsuarioSignupComponent_div_18_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 20);\n    i0.ɵɵtext(1, \" El usuario no debe exceder los 50 car\\u00E1cteres \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction UsuarioSignupComponent_div_24_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 20);\n    i0.ɵɵtext(1, \" Debe ingresar una contrase\\u00F1a para registrarse \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction UsuarioSignupComponent_div_25_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 20);\n    i0.ɵɵtext(1, \" La contrase\\u00F1a no debe exceder los 50 car\\u00E1cteres \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction UsuarioSignupComponent_div_26_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 20);\n    i0.ɵɵtext(1, \" La contrase\\u00F1a debe tener m\\u00E1s de 4 car\\u00E1cteres \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction UsuarioSignupComponent_div_32_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 20);\n    i0.ɵɵtext(1, \" Debe ingresar una contrase\\u00F1a para registrarse \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction UsuarioSignupComponent_div_33_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 20);\n    i0.ɵɵtext(1, \" La contrase\\u00F1a no debe exceder los 50 car\\u00E1cteres \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction UsuarioSignupComponent_div_34_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 20);\n    i0.ɵɵtext(1, \" La contrase\\u00F1a debe tener m\\u00E1s de 4 car\\u00E1cteres \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction UsuarioSignupComponent_div_35_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 20);\n    i0.ɵɵtext(1, \" Las contrase\\u00F1as no coinciden \");\n    i0.ɵɵelementEnd();\n  }\n}\nexport class UsuarioSignupComponent {\n  constructor(usuarioService, formBuilder, router, toastr) {\n    _defineProperty(this, \"usuarioService\", void 0);\n    _defineProperty(this, \"formBuilder\", void 0);\n    _defineProperty(this, \"router\", void 0);\n    _defineProperty(this, \"toastr\", void 0);\n    _defineProperty(this, \"helper\", new JwtHelperService());\n    _defineProperty(this, \"usuarioForm\", void 0);\n    this.usuarioService = usuarioService;\n    this.formBuilder = formBuilder;\n    this.router = router;\n    this.toastr = toastr;\n  }\n  ngOnInit() {\n    this.usuarioForm = this.formBuilder.group({\n      nombre: [\"\", [Validators.required, Validators.maxLength(50)]],\n      password: [\"\", [Validators.required, Validators.maxLength(50), Validators.minLength(4)]],\n      confirmPassword: [\"\", [Validators.required, Validators.maxLength(50), Validators.minLength(4)]]\n    });\n  }\n  registrarUsuario() {\n    this.usuarioService.userSignUp(this.usuarioForm.get('nombre')?.value, this.usuarioForm.get('password')?.value).subscribe(res => {\n      const decodedToken = this.helper.decodeToken(res.token);\n      this.router.navigate([`/albumes/${decodedToken.sub}/${res.token}`]);\n      this.showSuccess();\n    }, error => {\n      this.showError(`Ha ocurrido un error: ${error.message}`);\n    });\n  }\n  showError(error) {\n    this.toastr.error(error, \"Error\");\n  }\n  showSuccess() {\n    this.toastr.success(`Se ha registrado exitosamente`, \"Registro exitoso\");\n  }\n}\n_defineProperty(UsuarioSignupComponent, \"\\u0275fac\", function UsuarioSignupComponent_Factory(t) {\n  return new (t || UsuarioSignupComponent)(i0.ɵɵdirectiveInject(i1.UsuarioService), i0.ɵɵdirectiveInject(i2.FormBuilder), i0.ɵɵdirectiveInject(i3.Router), i0.ɵɵdirectiveInject(i4.ToastrService));\n});\n_defineProperty(UsuarioSignupComponent, \"\\u0275cmp\", /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: UsuarioSignupComponent,\n  selectors: [[\"app-usuario-signup\"]],\n  decls: 45,\n  vars: 11,\n  consts: [[\"lang\", \"en\"], [\"charset\", \"UTF-8\"], [\"name\", \"viewport\", \"content\", \"width-device-width, initial-scale-1.0\"], [\"rel\", \"stylesheet\", \"type\", \"text/css\", \"href\", \"D:\\\\Soni\\\\Integrador2\\\\dermo-app-web\\\\Dermo-Web-App\\\\src\\\\styles.css\"], [1, \"formulario\"], [3, \"formGroup\", \"ngSubmit\"], [1, \"form-group\"], [1, \"username\"], [\"formControlName\", \"nombre\", \"type\", \"text\", 1, \"form-control\"], [\"for\", \"nombre\", 1, \"col-lg-3\", \"col-form-label\"], [\"class\", \"alert alert-danger my-3\", 4, \"ngIf\"], [\"formControlName\", \"password\", \"type\", \"password\", 1, \"form-control\"], [\"for\", \"password\", 1, \"col-lg-3\", \"col-form-label\"], [\"formControlName\", \"confirmPassword\", \"type\", \"password\", 1, \"form-control\"], [\"for\", \"confirmPassword\", 1, \"col-lg-3\", \"col-form-label\"], [1, \"enviar\"], [\"type\", \"submit\", 1, \"btn\", \"btn-primary\", \"col-8\", 3, \"disabled\"], [1, \"inicio\"], [\"type\", \"checkbox\"], [\"href\", \"/\"], [1, \"alert\", \"alert-danger\", \"my-3\"]],\n  template: function UsuarioSignupComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"html\", 0)(1, \"head\");\n      i0.ɵɵelement(2, \"meta\", 1)(3, \"meta\", 2);\n      i0.ɵɵelementStart(4, \"title\");\n      i0.ɵɵtext(5, \"Document\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(6, \"link\", 3);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(7, \"body\")(8, \"div\", 4)(9, \"h1\");\n      i0.ɵɵtext(10, \"Crea tu cuenta\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(11, \"form\", 5);\n      i0.ɵɵlistener(\"ngSubmit\", function UsuarioSignupComponent_Template_form_ngSubmit_11_listener() {\n        return ctx.registrarUsuario();\n      });\n      i0.ɵɵelementStart(12, \"div\", 6)(13, \"div\", 7);\n      i0.ɵɵelement(14, \"input\", 8);\n      i0.ɵɵelementStart(15, \"label\", 9);\n      i0.ɵɵtext(16, \"Correo electr\\u00F3nico\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵtemplate(17, UsuarioSignupComponent_div_17_Template, 2, 0, \"div\", 10);\n      i0.ɵɵtemplate(18, UsuarioSignupComponent_div_18_Template, 2, 0, \"div\", 10);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(19, \"div\", 6)(20, \"div\", 7);\n      i0.ɵɵelement(21, \"input\", 11);\n      i0.ɵɵelementStart(22, \"label\", 12);\n      i0.ɵɵtext(23, \"Contrase\\u00F1a\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵtemplate(24, UsuarioSignupComponent_div_24_Template, 2, 0, \"div\", 10);\n      i0.ɵɵtemplate(25, UsuarioSignupComponent_div_25_Template, 2, 0, \"div\", 10);\n      i0.ɵɵtemplate(26, UsuarioSignupComponent_div_26_Template, 2, 0, \"div\", 10);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(27, \"div\", 6)(28, \"div\", 7);\n      i0.ɵɵelement(29, \"input\", 13);\n      i0.ɵɵelementStart(30, \"label\", 14);\n      i0.ɵɵtext(31, \"Confirmar contrase\\u00F1a\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵtemplate(32, UsuarioSignupComponent_div_32_Template, 2, 0, \"div\", 10);\n      i0.ɵɵtemplate(33, UsuarioSignupComponent_div_33_Template, 2, 0, \"div\", 10);\n      i0.ɵɵtemplate(34, UsuarioSignupComponent_div_34_Template, 2, 0, \"div\", 10);\n      i0.ɵɵtemplate(35, UsuarioSignupComponent_div_35_Template, 2, 0, \"div\", 10);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(36, \"div\", 15)(37, \"button\", 16);\n      i0.ɵɵtext(38, \"Registrate\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(39, \"div\", 17)(40, \"p\");\n      i0.ɵɵelement(41, \"input\", 18);\n      i0.ɵɵtext(42, \"Al registrarse acepta los \");\n      i0.ɵɵelementStart(43, \"a\", 19);\n      i0.ɵɵtext(44, \"terminos y condiciones\");\n      i0.ɵɵelementEnd()()()()()()();\n    }\n    if (rf & 2) {\n      let tmp_1_0;\n      let tmp_2_0;\n      let tmp_3_0;\n      let tmp_4_0;\n      let tmp_5_0;\n      let tmp_6_0;\n      let tmp_7_0;\n      let tmp_8_0;\n      let tmp_9_0;\n      let tmp_10_0;\n      i0.ɵɵadvance(11);\n      i0.ɵɵproperty(\"formGroup\", ctx.usuarioForm);\n      i0.ɵɵadvance(6);\n      i0.ɵɵproperty(\"ngIf\", ((tmp_1_0 = ctx.usuarioForm.get(\"nombre\")) == null ? null : tmp_1_0.hasError(\"required\")) && ((tmp_1_0 = ctx.usuarioForm.get(\"nombre\")) == null ? null : tmp_1_0.touched));\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", (tmp_2_0 = ctx.usuarioForm.get(\"nombre\")) == null ? null : tmp_2_0.hasError(\"maxlength\"));\n      i0.ɵɵadvance(6);\n      i0.ɵɵproperty(\"ngIf\", ((tmp_3_0 = ctx.usuarioForm.get(\"password\")) == null ? null : tmp_3_0.hasError(\"required\")) && ((tmp_3_0 = ctx.usuarioForm.get(\"password\")) == null ? null : tmp_3_0.touched));\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", (tmp_4_0 = ctx.usuarioForm.get(\"password\")) == null ? null : tmp_4_0.hasError(\"maxlength\"));\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", (tmp_5_0 = ctx.usuarioForm.get(\"password\")) == null ? null : tmp_5_0.hasError(\"minlength\"));\n      i0.ɵɵadvance(6);\n      i0.ɵɵproperty(\"ngIf\", ((tmp_6_0 = ctx.usuarioForm.get(\"confirmPassword\")) == null ? null : tmp_6_0.hasError(\"required\")) && ((tmp_6_0 = ctx.usuarioForm.get(\"confirmPassword\")) == null ? null : tmp_6_0.touched));\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", (tmp_7_0 = ctx.usuarioForm.get(\"confirmPassword\")) == null ? null : tmp_7_0.hasError(\"maxlength\"));\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", (tmp_8_0 = ctx.usuarioForm.get(\"confirmPassword\")) == null ? null : tmp_8_0.hasError(\"minlength\"));\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ((tmp_9_0 = ctx.usuarioForm.get(\"confirmPassword\")) == null ? null : tmp_9_0.value) !== ((tmp_9_0 = ctx.usuarioForm.get(\"password\")) == null ? null : tmp_9_0.value));\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"disabled\", !ctx.usuarioForm.valid || ((tmp_10_0 = ctx.usuarioForm.get(\"confirmPassword\")) == null ? null : tmp_10_0.value) !== ((tmp_10_0 = ctx.usuarioForm.get(\"password\")) == null ? null : tmp_10_0.value));\n    }\n  },\n  dependencies: [i5.NgIf, i2.ɵNgNoValidate, i2.DefaultValueAccessor, i2.NgControlStatus, i2.NgControlStatusGroup, i2.FormGroupDirective, i2.FormControlName]\n}));","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}